function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){var e=Alloy.createCollection("category");data=e.getData();for(var t=[],i=0;i<data.length;i++){var o=a.UI.create("TableViewRow",{}),r=a.UI.create("View",{classes:["wfill","horz"],height:70,backgroundColor:"#ffffff",item_response_id:data[i].c_id}),n=a.UI.create("ImageView",{width:70,height:70,defaultImage:"/images/default/small_item.png",image:data[i].img_path}),l=a.UI.create("View",{classes:["hfill","vert","padding"],width:"auto"}),s=a.UI.create("Label",{classes:["h5","wfill","hsize"],textAlign:"left",text:data[i].c_name});l.add(s),r.add(n),r.add(l),o.add(r),t.push(o)}a.tblview.setData(t)}function t(e){var t=Alloy.createCollection("updateChecker"),i=t.getCheckerById(4),o=i.updated||"";API.callByPost({url:"getCategoryListUrl",params:{last_updated:o}},function(i){var o=Alloy.createCollection("category"),a=JSON.parse(i),r=a.data||null;o.saveArray(r),t.updateModule(4,"getCategoryList",Common.now()),e&&e()})}function i(){n.start(),t(function(){e(),n.finish()})}function o(){a.win.add(n.getView()),i()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="search",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var a=this,r={};a.__views.win=Ti.UI.createWindow({backgroundColor:"#ebebeb",titleAttributes:{color:"#ffffff"},navBarHidden:"false",font:{fontFamily:"Lato-Regular"},barColor:"#323136",navTintColor:"#75d0cb",id:"win",title:"Search"}),a.__views.win&&a.addTopLevelView(a.__views.win),a.__views.__alloyId74=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.FILL,id:"__alloyId74"}),a.__views.win.add(a.__views.__alloyId74),a.__views.tblview=Ti.UI.createTableView({contentHeight:Ti.UI.SIZE,contentWidth:Ti.UI.FILL,width:Ti.UI.FILL,height:Ti.UI.FILL,id:"tblview"}),a.__views.__alloyId74.add(a.__views.tblview),r.destroy=function(){},_.extend(a,a.__views),arguments[0]||{};var n=Alloy.createController("loading");o(),Ti.App.addEventListener("search:refresh",i),a.win.addEventListener("close",function(){Ti.App.removeEventListener("search:refresh",i),a.destroy(),console.log("window close")}),_.extend(a,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;