function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){var e=Alloy.createController("auth/signup").getView();"android"==Ti.Platform.osname?e.open():Alloy.Globals.navWin.openWindow(e,{animated:!0})}function t(e){var t=JSON.parse(e);if("error"==t.status)return Common.createAlert("Error",t.data[0]),a.finish(),!1;a.finish();var i=Alloy.createCollection("user"),r=t.data;i.saveArray(r),Ti.App.Properties.setString("user_id",r.id),Ti.App.Properties.setString("fullname",r.fullname),Ti.App.Properties.setString("email",r.email),Ti.App.Properties.setString("mobile",r.mobile),Ti.App.Properties.setString("img_path",r.img_path),Ti.App.Properties.setString("thumb_path",r.thumb_path),Ti.App.Properties.setString("point",r.point),n.win.close(),Ti.App.fireEvent("home:refresh"),Alloy.Globals.Navigator.navGroup.open({navBarHidden:!0,fullscreen:!1})}function i(){var e=n.username.value,i=n.password.value;if(""==e)return Common.createAlert("Fail","Please fill in your username"),!1;if(""==i)return Common.createAlert("Fail","Please fill in your password"),!1;var r=Ti.App.Properties.getString("deviceToken");console.log(r);var o={device_token:r,username:e,password:i};a.start(),API.callByPost({url:"doLoginUrl",params:o},t)}function r(){Alloy.Globals.navWin=n.navWin,n.win.add(a.getView())}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="auth/login",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,o={},s={};n.__views.win=Ti.UI.createWindow({backgroundColor:"#ebebeb",titleAttributes:{color:"#ffffff"},navBarHidden:!0,font:{fontFamily:"Lato-Regular"},title:"Pando",color:"#ffffff",id:"win"}),n.__views.__alloyId122=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.FILL,backgroundImage:"/images/home_background.jpg",id:"__alloyId122"}),n.__views.win.add(n.__views.__alloyId122),n.__views.__alloyId123=Ti.UI.createImageView({preventDefaultImage:!0,image:"/images/full_logo.png",top:"80",width:"50%",id:"__alloyId123"}),n.__views.__alloyId122.add(n.__views.__alloyId123),n.__views.username=Ti.UI.createTextField({height:40,borderColor:"#a5a5a5",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:Titanium.UI.TEXT_ALIGNMENT_LEFT,backgroundColor:"#ffffff",width:Titanium.UI.FILL,left:10,right:10,top:"80",font:{fontFamily:"Lato-Regular"},id:"username",hintText:"Username"}),n.__views.__alloyId122.add(n.__views.username),n.__views.password=Ti.UI.createTextField({height:40,borderColor:"#a5a5a5",borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,verticalAlign:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:Titanium.UI.TEXT_ALIGNMENT_LEFT,backgroundColor:"#ffffff",width:Titanium.UI.FILL,left:10,right:10,top:10,font:{fontFamily:"Lato-Regular"},id:"password",hintText:"Password",passwordMask:"true"}),n.__views.__alloyId122.add(n.__views.password),n.__views.__alloyId124=Ti.UI.createButton({height:40,borderColor:"#C6C8CA",textAlign:Titanium.UI.TEXT_ALIGNMENT_CENTER,backgroundColor:"#ED1C24",borderRadius:6,color:"#ffffff",width:Titanium.UI.FILL,left:10,right:10,top:10,font:{fontFamily:"Lato-Regular"},title:"Login",id:"__alloyId124"}),n.__views.__alloyId122.add(n.__views.__alloyId124),i?n.addListener(n.__views.__alloyId124,"click",i):s["$.__views.__alloyId124!click!do_login"]=!0,n.__views.__alloyId125=Ti.UI.createButton({height:40,borderColor:"#C6C8CA",textAlign:Titanium.UI.TEXT_ALIGNMENT_CENTER,backgroundColor:"#5375BD",borderRadius:6,color:"#ffffff",width:Titanium.UI.FILL,left:10,right:10,top:10,font:{fontFamily:"Lato-Regular"},title:"Register",id:"__alloyId125"}),n.__views.__alloyId122.add(n.__views.__alloyId125),e?n.addListener(n.__views.__alloyId125,"click",e):s["$.__views.__alloyId125!click!do_signup"]=!0,n.__views.navWin=Ti.UI.iOS.createNavigationWindow({window:n.__views.win,id:"navWin"}),n.__views.navWin&&n.addTopLevelView(n.__views.navWin),o.destroy=function(){},_.extend(n,n.__views),arguments[0]||{};var a=Alloy.createController("loading");r(),s["$.__views.__alloyId124!click!do_login"]&&n.addListener(n.__views.__alloyId124,"click",i),s["$.__views.__alloyId125!click!do_signup"]&&n.addListener(n.__views.__alloyId125,"click",e),_.extend(n,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;